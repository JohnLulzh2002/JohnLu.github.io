<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>C/C++ | 鲁哲豪 个人网站</title>
    <meta name="generator" content="VuePress 1.9.9">
    
    <meta name="description" content="Just playing around">
    
    <link rel="preload" href="/assets/css/0.styles.e8e4f3a3.css" as="style"><link rel="preload" href="/assets/js/app.6718a89a.js" as="script"><link rel="preload" href="/assets/js/2.b450a5ed.js" as="script"><link rel="preload" href="/assets/js/6.b59f3428.js" as="script"><link rel="prefetch" href="/assets/js/10.9dab5e12.js"><link rel="prefetch" href="/assets/js/11.ec1b9a81.js"><link rel="prefetch" href="/assets/js/12.9d3bc1a9.js"><link rel="prefetch" href="/assets/js/13.234d564e.js"><link rel="prefetch" href="/assets/js/14.20dd799d.js"><link rel="prefetch" href="/assets/js/15.6bebd811.js"><link rel="prefetch" href="/assets/js/16.32f1688e.js"><link rel="prefetch" href="/assets/js/3.a9c84adc.js"><link rel="prefetch" href="/assets/js/4.5b118796.js"><link rel="prefetch" href="/assets/js/5.7a47b2bb.js"><link rel="prefetch" href="/assets/js/7.1d469f45.js"><link rel="prefetch" href="/assets/js/8.04b5a83a.js"><link rel="prefetch" href="/assets/js/9.e9a4cbc9.js">
    <link rel="stylesheet" href="/assets/css/0.styles.e8e4f3a3.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/assets/img/Skyrim.png" alt="鲁哲豪 个人网站" class="logo"> <span class="site-name can-hide">鲁哲豪 个人网站</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/LZH.html" class="nav-link">
  简历
</a></div><div class="nav-item"><a href="/LanguageGuide/C-Cpp.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  c++备忘录
</a></div><div class="nav-item"><a href="https://bing.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Bing
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="VuePress文档" class="dropdown-title"><span class="title">VuePress文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="VuePress文档" class="mobile-dropdown-title"><span class="title">VuePress文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://vuepress.vuejs.org/zh/guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://vuepress.vuejs.org/zh/theme/default-theme-config.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  默认主题配置
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  首页
</a></div><div class="nav-item"><a href="/LZH.html" class="nav-link">
  简历
</a></div><div class="nav-item"><a href="/LanguageGuide/C-Cpp.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  c++备忘录
</a></div><div class="nav-item"><a href="https://bing.com/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Bing
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="VuePress文档" class="dropdown-title"><span class="title">VuePress文档</span> <span class="arrow down"></span></button> <button type="button" aria-label="VuePress文档" class="mobile-dropdown-title"><span class="title">VuePress文档</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://vuepress.vuejs.org/zh/guide/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  VuePress
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li><li class="dropdown-item"><!----> <a href="https://vuepress.vuejs.org/zh/theme/default-theme-config.html" target="_blank" rel="noopener noreferrer" class="nav-link external">
  默认主题配置
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/LZH.html" class="sidebar-link">简历</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>编程语言笔记</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/LanguageGuide/快捷键.html" class="sidebar-link">快捷键</a></li><li><a href="/LanguageGuide/C-Cpp.html" aria-current="page" class="active sidebar-link">C/C++</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/LanguageGuide/C-Cpp.html#c语言" class="sidebar-link">C语言</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/LanguageGuide/C-Cpp.html#编译-gcc" class="sidebar-link">编译(gcc)</a></li><li class="sidebar-sub-header"><a href="/LanguageGuide/C-Cpp.html#常用数据" class="sidebar-link">常用数据</a></li><li class="sidebar-sub-header"><a href="/LanguageGuide/C-Cpp.html#memset" class="sidebar-link">memset</a></li><li class="sidebar-sub-header"><a href="/LanguageGuide/C-Cpp.html#文件操作" class="sidebar-link">文件操作</a></li><li class="sidebar-sub-header"><a href="/LanguageGuide/C-Cpp.html#main的参数" class="sidebar-link">main的参数</a></li><li class="sidebar-sub-header"><a href="/LanguageGuide/C-Cpp.html#环境变量-stdlib-h" class="sidebar-link">环境变量 (stdlib.h)</a></li><li class="sidebar-sub-header"><a href="/LanguageGuide/C-Cpp.html#typedef数组" class="sidebar-link">typedef数组</a></li><li class="sidebar-sub-header"><a href="/LanguageGuide/C-Cpp.html#位域" class="sidebar-link">位域</a></li><li class="sidebar-sub-header"><a href="/LanguageGuide/C-Cpp.html#可变参数-stdarg-h" class="sidebar-link">可变参数 (stdarg.h)</a></li></ul></li><li class="sidebar-sub-header"><a href="/LanguageGuide/C-Cpp.html#c" class="sidebar-link">C++</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/LanguageGuide/C-Cpp.html#杂项" class="sidebar-link">杂项</a></li><li class="sidebar-sub-header"><a href="/LanguageGuide/C-Cpp.html#动态内存分配" class="sidebar-link">动态内存分配</a></li><li class="sidebar-sub-header"><a href="/LanguageGuide/C-Cpp.html#类的定义" class="sidebar-link">类的定义</a></li></ul></li><li class="sidebar-sub-header"><a href="/LanguageGuide/C-Cpp.html#stl" class="sidebar-link">STL</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/LanguageGuide/C-Cpp.html#sort-algorithm" class="sidebar-link">sort (algorithm)</a></li><li class="sidebar-sub-header"><a href="/LanguageGuide/C-Cpp.html#比较函数" class="sidebar-link">比较函数</a></li><li class="sidebar-sub-header"><a href="/LanguageGuide/C-Cpp.html#全排列-algorithm" class="sidebar-link">全排列 (algorithm)</a></li><li class="sidebar-sub-header"><a href="/LanguageGuide/C-Cpp.html#二分查找-algorithm" class="sidebar-link">二分查找 (algorithm)</a></li><li class="sidebar-sub-header"><a href="/LanguageGuide/C-Cpp.html#pair模板" class="sidebar-link">pair模板</a></li><li class="sidebar-sub-header"><a href="/LanguageGuide/C-Cpp.html#定长数组-array" class="sidebar-link">定长数组 (array)</a></li><li class="sidebar-sub-header"><a href="/LanguageGuide/C-Cpp.html#变长数组-vector" class="sidebar-link">变长数组 (vector)</a></li><li class="sidebar-sub-header"><a href="/LanguageGuide/C-Cpp.html#平衡二叉树-set" class="sidebar-link">平衡二叉树 (set)</a></li><li class="sidebar-sub-header"><a href="/LanguageGuide/C-Cpp.html#映射-map" class="sidebar-link">映射 (map)</a></li><li class="sidebar-sub-header"><a href="/LanguageGuide/C-Cpp.html#优先队列-queue" class="sidebar-link">优先队列 (queue)</a></li><li class="sidebar-sub-header"><a href="/LanguageGuide/C-Cpp.html#双端队列-deque" class="sidebar-link">双端队列 (deque)</a></li><li class="sidebar-sub-header"><a href="/LanguageGuide/C-Cpp.html#双向链表-list" class="sidebar-link">双向链表(list)</a></li></ul></li></ul></li><li><a href="/LanguageGuide/CSharp.html" class="sidebar-link">C#</a></li><li><a href="/LanguageGuide/Fortran.html" class="sidebar-link">Fortran</a></li><li><a href="/LanguageGuide/Java.html" class="sidebar-link">Java</a></li><li><a href="/LanguageGuide/JavaScript.html" class="sidebar-link">Javascript</a></li><li><a href="/LanguageGuide/LaTeX公式.html" class="sidebar-link">LxTeX公式</a></li><li><a href="/LanguageGuide/MySQL.html" class="sidebar-link">MySQL</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="c-c"><a href="#c-c" class="header-anchor">#</a> C/C++</h1> <h2 id="c语言"><a href="#c语言" class="header-anchor">#</a> C语言</h2> <h3 id="编译-gcc"><a href="#编译-gcc" class="header-anchor">#</a> 编译(gcc)</h3> <p><img src="/assets/img/compile.5a422c5e.png" alt="compile"></p> <div class="language-shell extra-class"><pre class="language-shell"><code>gcc hello.c <span class="token parameter variable">-o</span> hello.exe
</code></pre></div><table><thead><tr><th>后缀</th> <th>描述</th> <th>后缀</th> <th>描述</th></tr></thead> <tbody><tr><td><code>.c</code></td> <td>C源文件</td> <td><code>.s/.S</code></td> <td>汇编语言源文件</td></tr> <tr><td><code>.C/.cc/.cxx/.cpp</code></td> <td>C++源文件</td> <td><code>.o/.obj</code></td> <td>目标文件</td></tr> <tr><td><code>.h</code></td> <td>头文件</td> <td><code>.a/.lib</code></td> <td>静态库</td></tr> <tr><td><code>.i/.ii</code></td> <td>预处理过的源文件</td> <td><code>.so/.dll</code></td> <td>动态库</td></tr></tbody></table> <h4 id="多文件项目"><a href="#多文件项目" class="header-anchor">#</a> 多文件项目</h4> <table><thead><tr><th>关键字</th> <th>生命周期</th> <th>作用域</th></tr></thead> <tbody><tr><td>extern</td> <td>静态（程序结束后释放）(栈区)</td> <td>整个程序</td></tr> <tr><td>static</td> <td>静态（程序结束后释放）(栈区)</td> <td>单个源文件</td></tr> <tr><td>auto,register</td> <td>函数调用（调用结束后释放）(静态数据区)</td> <td>无</td></tr></tbody></table> <h5 id="编译"><a href="#编译" class="header-anchor">#</a> 编译</h5> <div class="language-c extra-class"><pre class="language-c"><code><span class="token comment">// File a.c</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdio.h&gt;</span></span>
<span class="token keyword">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token function">printf</span><span class="token punctuation">(</span><span class="token string">&quot;%d\n&quot;</span><span class="token punctuation">,</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-c extra-class"><pre class="language-c"><code><span class="token comment">// File b.c</span>
<span class="token keyword">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span> x<span class="token punctuation">,</span> <span class="token keyword">int</span> y<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> x <span class="token operator">+</span> y<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-shell extra-class"><pre class="language-shell"><code>gcc <span class="token parameter variable">-o</span> foo a.c b.c
gcc <span class="token parameter variable">-o</span> foo.exe *.c	<span class="token comment">#更省事的写法</span>
</code></pre></div><h5 id="头文件"><a href="#头文件" class="header-anchor">#</a> 头文件</h5> <p>使用<code>.h</code>文件，复用函数原型
设置条件判断宏，以避免重复加载</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token comment">// File bar.h</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">ifndef</span> <span class="token expression">BAR_H</span></span>
  <span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">define</span> <span class="token macro-name">BAR_H</span></span>
  <span class="token keyword">int</span> <span class="token function">add</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">,</span> <span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">endif</span></span>
</code></pre></div><p>在<code>a.c</code>中添加</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&quot;bar.h&quot;</span></span>
</code></pre></div><p><code>b.c</code>里面也可以加载这个头文件，这样可以让编译器验证，函数原型与函数定义是否一致</p> <p>编译命令不变</p> <h5 id="静态链接库"><a href="#静态链接库" class="header-anchor">#</a> 静态链接库</h5> <p>用ar将目标文件变成库(后缀是<code>.a</code>还是<code>.lib</code>都可以)
然后进行静态链接(<code>-L</code>指定libmylib.a的位置)</p> <div class="language-bash extra-class"><pre class="language-bash"><code>gcc <span class="token parameter variable">-c</span> mylib.c <span class="token parameter variable">-o</span> mylib.o
ar <span class="token parameter variable">-rc</span> libmylib.a mylib.o
gcc main.c <span class="token parameter variable">-o</span> <span class="token number">1</span>.exe <span class="token parameter variable">-lmylib</span> -L.
</code></pre></div><h5 id="动态链接库-静态调用"><a href="#动态链接库-静态调用" class="header-anchor">#</a> 动态链接库(静态调用)</h5> <div class="language-shell extra-class"><pre class="language-shell"><code>gcc <span class="token parameter variable">-c</span> mylib.c <span class="token parameter variable">-o</span> mylib.o <span class="token parameter variable">-fPIC</span>
gcc <span class="token parameter variable">-o</span> mylib.dll mylib.o <span class="token parameter variable">-shared</span>
gcc main.c <span class="token parameter variable">-o</span> <span class="token number">2</span>.exe <span class="token parameter variable">-lmylib</span> -L.
</code></pre></div><p>然后把<code>2.exe</code>和<code>mylib.dll</code>放在同一目录下即可，修改dll时无需重新编译exe</p> <p><code>nm</code>可以查看当前 .lib 文件内都有哪些符号（函数名）</p> <h4 id="其他编译选项"><a href="#其他编译选项" class="header-anchor">#</a> 其他编译选项</h4> <table><thead><tr><th>选项</th> <th>解释</th> <th>选项</th> <th>解释</th></tr></thead> <tbody><tr><td><code>-o &lt;file&gt;</code></td> <td>指定输出文件</td> <td><code>-I</code></td> <td>指定头文件的包含路径</td></tr> <tr><td><code>-std=c99</code></td> <td>指定要用的语言标准</td> <td><code>-L</code></td> <td>指定链接库的包含路径</td></tr> <tr><td><code>-E</code></td> <td>预处理后停止</td> <td><code>-shared</code></td> <td>创建共享库/动态库</td></tr> <tr><td><code>-S</code></td> <td>编译后停止</td> <td><code>-static</code></td> <td>使用静态链接</td></tr> <tr><td><code>-c</code></td> <td>汇编后停止</td> <td><code>--help</code></td> <td>显示帮助信息</td></tr> <tr><td><code>-pie</code></td> <td>创建动态链接、位置无关的可执行文件</td> <td><code>--version</code></td> <td>显示编译器版本信息</td></tr> <tr><td><code>-fexec-charset=GBK</code></td> <td>以GBK输出</td> <td><code>-finput-charset=UTF-8</code></td> <td>以UTF-8处理源文件</td></tr> <tr><td><code>-g</code></td> <td>产生调试信息</td> <td><code>-O2</code></td> <td>优化可执行代码</td></tr> <tr><td><code>-v</code></td> <td>显示编译的每个阶段使用的命令</td> <td><code>-###</code></td> <td>与 -v 类似，但引用的选项和命令不执行</td></tr> <tr><td><code>-pass-exit-codes</code></td> <td>从一个阶段以最高错误代码退出</td> <td><code>-Wa,&lt;options&gt;</code></td> <td>将逗号分隔的<code>&lt;options&gt;</code>传递给汇编器</td></tr> <tr><td><code>--target-help</code></td> <td>显示特定于目标的命令行选项</td> <td><code>-Wp,&lt;options&gt;</code></td> <td>将逗号分隔的<code>&lt;options&gt;</code>传递给预处理器</td></tr> <tr><td><code>-dumpmachine</code></td> <td>显示编译器的目标处理器</td> <td><code>-Wl,&lt;options&gt;</code></td> <td>将逗号分隔的<code>&lt;options&gt;</code>传递给链接器</td></tr> <tr><td><code>-print-search-dirs</code></td> <td>显示编译器搜索路径中的目录</td> <td><code>-Xassembler &lt;arg&gt;</code></td> <td>将<code>&lt;arg&gt;</code>传递给汇编器</td></tr> <tr><td><code>-print-libgcc-file-name</code></td> <td>显示编译器配套库的名称</td> <td><code>-Xpreprocessor &lt;arg&gt;</code></td> <td>将<code>&lt;arg&gt;</code>传递给预处理器</td></tr> <tr><td><code>-pipe</code></td> <td>使用管道而不是中间文件</td> <td><code>-Xlinker &lt;arg&gt;</code></td> <td>将<code>&lt;arg&gt;</code>传递给链接器</td></tr> <tr><td><code>-time</code></td> <td>为每个子流程的执行计时</td> <td><code>-save-temps</code></td> <td>不用删除中间文件</td></tr> <tr><td><code>-specs=&lt;file&gt;</code></td> <td>使用<code>&lt;file&gt;</code>的内容覆盖内置规范</td> <td><code>-save-temps=&lt;arg&gt;</code></td> <td>不用删除指定的中间文件</td></tr> <tr><td><code>--sysroot=&lt;directory&gt;</code></td> <td>使用<code>&lt;directory&gt;</code>作为头文件和库的根目录</td> <td><code>-no-canonical-prefixes</code></td> <td>构建其他 gcc 组件的相对前缀时，不规范化路径</td></tr> <tr><td><code>-B &lt;directory&gt;</code></td> <td>将<code>&lt;directory&gt;</code>添加到编译器的搜索路径</td> <td></td> <td></td></tr></tbody></table> <h3 id="常用数据"><a href="#常用数据" class="header-anchor">#</a> 常用数据</h3> <h4 id="时间复杂度"><a href="#时间复杂度" class="header-anchor">#</a> 时间复杂度</h4> <table><thead><tr><th>复杂度</th> <th>最大</th> <th>复杂度</th> <th>最大</th></tr></thead> <tbody><tr><td>$\log N$</td> <td>&gt;&gt;1e20</td> <td>$N^2$</td> <td>6000</td></tr> <tr><td>$\sqrt N$</td> <td>1e14</td> <td>$N^3$</td> <td>500</td></tr> <tr><td>$N$</td> <td>5e7</td> <td>$2^N$</td> <td>25</td></tr> <tr><td>$N \log N$</td> <td>1e6</td> <td>$N!$</td> <td>11</td></tr></tbody></table> <h4 id="数组大小"><a href="#数组大小" class="header-anchor">#</a> 数组大小</h4> <table><thead><tr><th>情形</th> <th>数组大小</th></tr></thead> <tbody><tr><td>windows</td> <td>5e8</td></tr> <tr><td>128MB</td> <td>3e7</td></tr></tbody></table> <h4 id="类型"><a href="#类型" class="header-anchor">#</a> 类型</h4> <table><thead><tr><th>类型</th> <th>max</th> <th>approx</th> <th>字节数</th></tr></thead> <tbody><tr><td>char</td> <td>127</td> <td>1.2e2</td> <td>1</td></tr> <tr><td>short</td> <td>32767</td> <td>3.2e5</td> <td>2</td></tr> <tr><td>unsigned short</td> <td>65535</td> <td>6.5e5</td> <td>2</td></tr> <tr><td>int、long</td> <td>2147483647</td> <td>2.1e9</td> <td>4</td></tr> <tr><td>unsigned int</td> <td>4294967295</td> <td>4.2e9</td> <td>4</td></tr> <tr><td>long long</td> <td>9223372036854775807</td> <td>9.2e18</td> <td>8</td></tr> <tr><td>unsigned long long</td> <td>1844674407370955161</td> <td>1.8e19</td> <td>8</td></tr> <tr><td>float</td> <td>2^128</td> <td>3.40e38</td> <td>4</td></tr> <tr><td>double</td> <td>2^1024</td> <td>1.79e308</td> <td>8</td></tr> <tr><td>void*(指针)</td> <td></td> <td></td> <td>8</td></tr></tbody></table> <h4 id="运算符优先级"><a href="#运算符优先级" class="header-anchor">#</a> 运算符优先级</h4> <table><thead><tr><th>级别</th> <th>运算符</th> <th>级别</th> <th>运算符</th></tr></thead> <tbody><tr><td>1</td> <td>[ ]、()函数调用、-&gt;、.成员访问、i++、i--</td> <td>9</td> <td>&amp;</td></tr> <tr><td>2</td> <td>++i、--i、&amp;地址、*取值、+正、-负、~、!、sizeof</td> <td>10</td> <td>∧</td></tr> <tr><td>3</td> <td>强制类型转换</td> <td>11</td> <td>|</td></tr> <tr><td>4</td> <td>*乘、/除、%求余</td> <td>12</td> <td>&amp;&amp;</td></tr> <tr><td>5</td> <td>+加、-减</td> <td>13</td> <td>||</td></tr> <tr><td>6</td> <td>&lt;&lt;、&gt;&gt;</td> <td>14</td> <td>? :</td></tr> <tr><td>7</td> <td>&lt;、&lt;=、&gt;、&gt;=</td> <td>15</td> <td>=</td></tr> <tr><td>8</td> <td>==、!=</td> <td>16</td> <td>,</td></tr></tbody></table> <h3 id="memset"><a href="#memset" class="header-anchor">#</a> memset</h3> <p>高维数组用法不变，只要给出总个数</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token function">memset</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span><span class="token number">0</span><span class="token punctuation">,</span><span class="token keyword">sizeof</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="文件操作"><a href="#文件操作" class="header-anchor">#</a> 文件操作</h3> <div class="language-c extra-class"><pre class="language-c"><code><span class="token comment">//单个文件：</span>
<span class="token function">freopen</span><span class="token punctuation">(</span><span class="token string">&quot;in.txt&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;r&quot;</span><span class="token punctuation">,</span><span class="token constant">stdin</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">freopen</span><span class="token punctuation">(</span><span class="token string">&quot;out.txt&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;w&quot;</span><span class="token punctuation">,</span><span class="token constant">stdout</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//多个文件：</span>
FILE<span class="token operator">*</span> out<span class="token operator">=</span><span class="token function">fopen</span><span class="token punctuation">(</span><span class="token string">&quot;out.txt&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;w&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//返回指针，失败NULL</span>
<span class="token function">fflush</span><span class="token punctuation">(</span>FILE<span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//清空缓存区</span>
<span class="token function">fclose</span><span class="token punctuation">(</span>FILE<span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//成功返0，失败返EOF。会先fflush</span>
<span class="token function">feof</span><span class="token punctuation">(</span>FILE<span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//结尾返非0，还有就返0</span>
<span class="token function">fgetc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">fputc</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">fgets</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">fputs</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">fscanf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span><span class="token function">fprintf</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//第一个参数为FILE*即可</span>
<span class="token comment">//块存储：</span>
<span class="token function">fread</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token punctuation">,</span><span class="token class-name">size_t</span> size<span class="token punctuation">,</span><span class="token class-name">size_t</span> num<span class="token punctuation">,</span>FILE<span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//返回读入的元素个数</span>
<span class="token function">fwrite</span><span class="token punctuation">(</span><span class="token keyword">void</span><span class="token operator">*</span><span class="token punctuation">,</span><span class="token class-name">size_t</span> size<span class="token punctuation">,</span><span class="token class-name">size_t</span> num<span class="token punctuation">,</span>FILE<span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//文件随机访问：</span>
<span class="token function">fseek</span><span class="token punctuation">(</span>FILE<span class="token operator">*</span><span class="token punctuation">,</span><span class="token keyword">long</span> step<span class="token punctuation">,</span><span class="token keyword">int</span> origin<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//移动FILE*指向</span>
<span class="token function">rewind</span><span class="token punctuation">(</span>FILE<span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//移至开头</span>
<span class="token function">ftell</span><span class="token punctuation">(</span>FILE<span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//当前位置</span>
<span class="token comment">//出错检测</span>
<span class="token function">ferror</span><span class="token punctuation">(</span>FILE<span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//正常返非0，出错返0</span>
<span class="token function">clearerr</span><span class="token punctuation">(</span>FILE<span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//错误标志归零（rewind、输入输出也可以）</span>
</code></pre></div><table><thead><tr><th>常量</th> <th>值</th> <th>含义</th></tr></thead> <tbody><tr><td>SEEK_SET</td> <td>0</td> <td>从前往后</td></tr> <tr><td>SEEK_CUR</td> <td>1</td> <td>从当前往后</td></tr> <tr><td>SEEK_END</td> <td>2</td> <td>从后往前</td></tr></tbody></table> <h3 id="main的参数"><a href="#main的参数" class="header-anchor">#</a> main的参数</h3> <div class="language-c extra-class"><pre class="language-c"><code><span class="token function">main</span><span class="token punctuation">(</span><span class="token keyword">int</span> argc<span class="token punctuation">,</span> <span class="token keyword">char</span><span class="token operator">*</span> argv<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
<span class="token comment">//argv[]={&quot;str1&quot;,&quot;str2&quot;}</span>
</code></pre></div><h3 id="环境变量-stdlib-h"><a href="#环境变量-stdlib-h" class="header-anchor">#</a> 环境变量 (stdlib.h)</h3> <div class="language-c extra-class"><pre class="language-c"><code><span class="token macro property"><span class="token directive-hash">#</span><span class="token directive keyword">include</span> <span class="token string">&lt;stdlib.h&gt;</span></span>
<span class="token function">getenv</span><span class="token punctuation">(</span><span class="token string">&quot;HOME&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="typedef数组"><a href="#typedef数组" class="header-anchor">#</a> typedef数组</h3> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">typedef</span> <span class="token keyword">char</span> Name<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
Name a<span class="token punctuation">,</span>b<span class="token punctuation">;</span>
<span class="token comment">//same as</span>
<span class="token keyword">char</span> a<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">,</span>b<span class="token punctuation">[</span><span class="token number">20</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="位域"><a href="#位域" class="header-anchor">#</a> 位域</h3> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">struct</span> <span class="token class-name">Bit</span><span class="token punctuation">{</span>
	<span class="token keyword">unsigned</span> a<span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token keyword">unsigned</span>  <span class="token operator">:</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token comment">//占位，跳过2位</span>
	<span class="token keyword">unsigned</span>  <span class="token operator">:</span><span class="token number">0</span><span class="token punctuation">;</span><span class="token comment">//占位，填满当前字节</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="可变参数-stdarg-h"><a href="#可变参数-stdarg-h" class="header-anchor">#</a> 可变参数 (stdarg.h)</h3> <p>声明函数时，末尾用省略号<code>...</code>表示可变数量的参数</p> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">int</span> <span class="token function">printf</span><span class="token punctuation">(</span><span class="token keyword">const</span> <span class="token keyword">char</span><span class="token operator">*</span> format<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>头文件<code>stdarg.h</code>定义了一些宏，可以操作可变参数。</p> <ol><li><code>va_list</code>：数据类型，定义一个可变参数对象。它必须在操作可变参数时，首先使用。</li> <li><code>va_start</code>：函数，初始化可变参数对象。接受两个参数，第一个是可变参数对象，第二个是原始函数里面，可变参数之前的那个参数，用来为可变参数定位。</li> <li><code>va_arg</code>：函数，取出当前那个可变参数，每次调用后，内部指针就会指向下一个可变参数。接受两个参数，第一个是可变参数对象，第二个是当前可变参数的类型。</li> <li><code>va_end</code>：函数，清理可变参数对象。</li></ol> <div class="language-c extra-class"><pre class="language-c"><code><span class="token keyword">double</span> <span class="token function">average</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">double</span> total <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
  va_list ap<span class="token punctuation">;</span>
  <span class="token function">va_start</span><span class="token punctuation">(</span>ap<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">int</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator">&lt;=</span> i<span class="token punctuation">;</span> <span class="token operator">++</span>j<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    total <span class="token operator">+=</span> <span class="token function">va_arg</span><span class="token punctuation">(</span>ap<span class="token punctuation">,</span> <span class="token keyword">double</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token function">va_end</span><span class="token punctuation">(</span>ap<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">return</span> total <span class="token operator">/</span> i<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>示例中，<code>va_list ap</code>定义<code>ap</code>为可变参数对象，<code>va_start(ap, i)</code>将参数<code>i</code>后面的参数统一放入<code>ap</code>，<code>va_arg(ap, double)</code>用来从<code>ap</code>依次取出一个参数，并且指定该参数为 double 类型，<code>va_end(ap)</code>用来清理可变参数对象。</p> <h2 id="c"><a href="#c" class="header-anchor">#</a> C++</h2> <h3 id="杂项"><a href="#杂项" class="header-anchor">#</a> 杂项</h3> <h4 id="cin-cout提速"><a href="#cin-cout提速" class="header-anchor">#</a> cin/cout提速</h4> <div class="language-cpp extra-class"><pre class="language-cpp"><code>ios<span class="token double-colon punctuation">::</span><span class="token function">sync_with_stdio</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cin<span class="token punctuation">.</span><span class="token function">tie</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="引用"><a href="#引用" class="header-anchor">#</a> 引用</h4> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">int</span><span class="token operator">&amp;</span>a<span class="token operator">=</span>b<span class="token punctuation">;</span>
</code></pre></div><h4 id="重载函数"><a href="#重载函数" class="header-anchor">#</a> 重载函数</h4> <p>同名不同参数</p> <h4 id="缺省参数"><a href="#缺省参数" class="header-anchor">#</a> 缺省参数</h4> <p>注意重载和缺省同时用时，可能产生二义性，编译出错</p> <h4 id="类型推导"><a href="#类型推导" class="header-anchor">#</a> 类型推导</h4> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">auto</span> j<span class="token operator">=</span>i<span class="token punctuation">;</span>
<span class="token keyword">decltype</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span> j<span class="token punctuation">;</span>
</code></pre></div><h3 id="动态内存分配"><a href="#动态内存分配" class="header-anchor">#</a> 动态内存分配</h3> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">int</span><span class="token operator">*</span>a<span class="token operator">=</span><span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">;</span>
<span class="token keyword">int</span><span class="token operator">*</span>b<span class="token operator">=</span><span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token keyword">delete</span> a<span class="token punctuation">;</span>
<span class="token keyword">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span>b<span class="token punctuation">;</span>
</code></pre></div><h3 id="类的定义"><a href="#类的定义" class="header-anchor">#</a> 类的定义</h3> <p>如果先声明后定义，格式如下</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">int</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">int</span> <span class="token function">c</span><span class="token punctuation">(</span><span class="token keyword">int</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">int</span> <span class="token class-name">A</span><span class="token double-colon punctuation">::</span><span class="token function">b</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span><span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token keyword">int</span> <span class="token class-name">A</span><span class="token double-colon punctuation">::</span><span class="token function">c</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span>
<span class="token punctuation">{</span><span class="token keyword">return</span> n<span class="token punctuation">;</span><span class="token punctuation">}</span>
</code></pre></div><p>成员有3种访问范围：</p> <ol><li>public</li> <li>private</li> <li>protected</li></ol> <p>不加关键字，就默认private</p> <p>可以访问同类其他对象的private成员</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">{</span>
<span class="token keyword">private</span><span class="token operator">:</span>
    <span class="token keyword">int</span> n<span class="token punctuation">;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token keyword">void</span> <span class="token function">setn</span><span class="token punctuation">(</span><span class="token keyword">int</span> t<span class="token punctuation">)</span><span class="token punctuation">{</span>n<span class="token operator">=</span>t<span class="token punctuation">;</span><span class="token punctuation">}</span>
    <span class="token keyword">void</span> <span class="token function">avg</span><span class="token punctuation">(</span>A<span class="token operator">&amp;</span>b<span class="token punctuation">,</span>A<span class="token operator">&amp;</span>c<span class="token punctuation">)</span><span class="token punctuation">{</span>n<span class="token operator">=</span><span class="token punctuation">(</span>b<span class="token punctuation">.</span>n<span class="token operator">+</span>c<span class="token punctuation">.</span>n<span class="token punctuation">)</span><span class="token operator">/</span><span class="token number">2</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
    <span class="token keyword">void</span> <span class="token function">out</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>cout<span class="token operator">&lt;&lt;</span>n<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
A d<span class="token punctuation">,</span>e<span class="token punctuation">,</span>f<span class="token punctuation">;</span>
d<span class="token punctuation">.</span><span class="token function">setn</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>e<span class="token punctuation">.</span><span class="token function">setn</span><span class="token punctuation">(</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
f<span class="token punctuation">.</span><span class="token function">avg</span><span class="token punctuation">(</span>d<span class="token punctuation">,</span>e<span class="token punctuation">)</span><span class="token punctuation">;</span>
f<span class="token punctuation">.</span><span class="token function">out</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="构造函数-初始化"><a href="#构造函数-初始化" class="header-anchor">#</a> 构造函数(初始化)</h4> <p>同名函数。如：</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> t<span class="token punctuation">;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token class-name">A</span><span class="token double-colon punctuation">::</span><span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">{</span>t<span class="token operator">=</span>n<span class="token punctuation">;</span><span class="token punctuation">}</span>
</code></pre></div><p>可以直接用初始化列表：</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> t<span class="token punctuation">;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">A</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token operator">:</span><span class="token function">t</span><span class="token punctuation">(</span>n<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">//对t用构造函数</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><p>如果构造函数有参数，新建对象时就必须带参数</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code>A <span class="token function">a</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
A b<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
A<span class="token operator">*</span> p<span class="token operator">=</span><span class="token keyword">new</span> <span class="token function">A</span><span class="token punctuation">(</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>构造函数可以重载</p> <p>数组可以这样初始化：</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">{</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">A</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
    <span class="token function">A</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">,</span><span class="token keyword">int</span> m<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
A arr<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token function">A</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="复制构造函数"><a href="#复制构造函数" class="header-anchor">#</a> 复制构造函数</h4> <p>默认就是简单复制，可以自定义覆盖</p> <p>建议(不一定)用常量，必须是引用</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token class-name">A</span><span class="token double-colon punctuation">::</span><span class="token function">A</span><span class="token punctuation">(</span><span class="token keyword">const</span> A<span class="token operator">&amp;</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>调用：</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code>A a<span class="token punctuation">;</span>
A <span class="token function">b</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//初始化</span>
A c<span class="token operator">=</span>a<span class="token punctuation">;</span><span class="token comment">//初始化</span>
<span class="token keyword">void</span> <span class="token function">fun</span><span class="token punctuation">(</span>A n<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token function">fun</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//作函数参数</span>
<span class="token keyword">void</span> <span class="token function">betterFun</span><span class="token punctuation">(</span><span class="token keyword">const</span> A<span class="token operator">&amp;</span> n<span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token comment">//为避免复制开销，可以引用</span>
A <span class="token function">fun2</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    A d<span class="token punctuation">;</span>
    <span class="token keyword">return</span> d<span class="token punctuation">;</span><span class="token comment">//作返回值</span>
<span class="token punctuation">}</span>
A f<span class="token punctuation">;</span>
f<span class="token operator">=</span>a<span class="token punctuation">;</span><span class="token comment">//不调用复制构造函数，就是简单复制</span>
</code></pre></div><p>g++会优化程序，可能会跳过复制构造函数</p> <h4 id="类型转换构造函数"><a href="#类型转换构造函数" class="header-anchor">#</a> 类型转换构造函数</h4> <p>一个参数的构造函数.赋值时会新建一个临时对象,再复制.</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token class-name">A</span><span class="token double-colon punctuation">::</span><span class="token function">A</span><span class="token punctuation">(</span><span class="token keyword">int</span> n<span class="token punctuation">)</span><span class="token punctuation">;</span>
A b<span class="token operator">=</span><span class="token number">1</span><span class="token punctuation">;</span>	<span class="token comment">//调用构造函数</span>
b<span class="token operator">=</span><span class="token number">2</span><span class="token punctuation">;</span>	<span class="token comment">//调用类型转换构造函数</span>
</code></pre></div><h4 id="析构函数"><a href="#析构函数" class="header-anchor">#</a> 析构函数</h4> <p>销毁对象,释放动态内存分配的空间.变量如果不是<code>new</code>出来的会自动回收.</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">A</span><span class="token punctuation">{</span>
    <span class="token keyword">int</span> <span class="token operator">*</span>p<span class="token punctuation">;</span>
<span class="token keyword">public</span><span class="token operator">:</span>
    <span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>p<span class="token operator">=</span><span class="token keyword">new</span> <span class="token keyword">int</span><span class="token punctuation">[</span><span class="token number">10</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
    <span class="token operator">~</span><span class="token function">A</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token keyword">delete</span><span class="token punctuation">[</span><span class="token punctuation">]</span>p<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="返回值为对象的函数"><a href="#返回值为对象的函数" class="header-anchor">#</a> 返回值为对象的函数</h4> <p>return时，先调用复制构造函数，生成临时对象。</p> <p>函数较简单时gcc会优化，不复制</p> <h4 id="静态变量、函数"><a href="#静态变量、函数" class="header-anchor">#</a> 静态变量、函数</h4> <p>本质是全局变量/函数。所有同类对象共用.定义时便实例化。</p> <p>必须在所有函数外初始化</p> <p>占用空间不算在sizeof里</p> <p>静态函数不实例化便可用(空指针、类名::函数名、对象名.函数名).不能调用非静态函数、变量、this指针.</p> <h4 id="封闭类"><a href="#封闭类" class="header-anchor">#</a> 封闭类</h4> <p>定义：有成员对象的类</p> <p>先执行成员变量的构造函数。执行次序取决于声明次序（而不是初始化列表次序）</p> <h4 id="常量"><a href="#常量" class="header-anchor">#</a> 常量</h4> <h5 id="常量对象"><a href="#常量对象" class="header-anchor">#</a> 常量对象</h5> <p>对象的值不能改变</p> <h5 id="常量成员函数"><a href="#常量成员函数" class="header-anchor">#</a> 常量成员函数</h5> <p>在函数声明的<strong>后面</strong>加const</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">void</span> <span class="token class-name">Class</span><span class="token double-colon punctuation">::</span><span class="token function">f</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">const</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
</code></pre></div><p>不能修改所作用的对象</p> <p>不能调用非常量的成员函数</p> <p>可以与非常量成员函数重载。调用时取决于是否为常量对象</p> <h4 id="友元-函数-类"><a href="#友元-函数-类" class="header-anchor">#</a> 友元(函数/类)</h4> <p>不是成员函数、成员类，但可以访问该类型私有成员</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">class</span> <span class="token class-name">C</span><span class="token punctuation">{</span>
<span class="token keyword">private</span><span class="token operator">:</span>
    <span class="token keyword">int</span> t<span class="token punctuation">;</span>
	<span class="token keyword">friend</span> <span class="token keyword">void</span> <span class="token function">f</span><span class="token punctuation">(</span>C obj<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">void</span> <span class="token function">f</span><span class="token punctuation">(</span>C <span class="token operator">&amp;</span>obj<span class="token punctuation">)</span><span class="token punctuation">{</span>obj<span class="token punctuation">.</span>t<span class="token operator">++</span><span class="token punctuation">;</span><span class="token punctuation">}</span>
</code></pre></div><p>友元关系不传递，不继承</p> <h2 id="stl"><a href="#stl" class="header-anchor">#</a> STL</h2> <h3 id="sort-algorithm"><a href="#sort-algorithm" class="header-anchor">#</a> sort (algorithm)</h3> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token function">sort</span><span class="token punctuation">(</span>a<span class="token operator">+</span>n1<span class="token punctuation">,</span>a<span class="token operator">+</span>n2<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//from a[n1] to a[n2-1]</span>
</code></pre></div><h3 id="比较函数"><a href="#比较函数" class="header-anchor">#</a> 比较函数</h3> <p>现成的</p> <table><thead><tr><th>名称</th> <th>功能描述</th></tr></thead> <tbody><tr><td>equal_to</td> <td>相等</td></tr> <tr><td>not_equal_to</td> <td>不相等</td></tr> <tr><td>less</td> <td>小于</td></tr> <tr><td>greater</td> <td>大于</td></tr> <tr><td>less_equal</td> <td>小于等于</td></tr> <tr><td>greater_equal</td> <td>大于等于</td></tr></tbody></table> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token function">sort</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>a<span class="token operator">+</span>n<span class="token punctuation">,</span><span class="token generic-function"><span class="token function">greater</span><span class="token generic class-name"><span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span></span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>仿函数</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">struct</span> <span class="token class-name">cmp</span><span class="token punctuation">{</span>
    <span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token keyword">const</span> T <span class="token operator">&amp;</span> a<span class="token punctuation">,</span> <span class="token keyword">const</span> T <span class="token operator">&amp;</span> b<span class="token punctuation">)</span><span class="token keyword">const</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> a<span class="token punctuation">.</span>b<span class="token operator">&lt;</span>b<span class="token punctuation">.</span>b<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">sort</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>a<span class="token operator">+</span>n<span class="token punctuation">,</span><span class="token function">cmp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>函数指针</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">bool</span> <span class="token function">cmp</span><span class="token punctuation">(</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span>a<span class="token punctuation">,</span><span class="token keyword">const</span> T<span class="token operator">&amp;</span>b<span class="token punctuation">)</span>
<span class="token punctuation">{</span><span class="token keyword">return</span> a<span class="token punctuation">.</span>b<span class="token operator">&lt;</span>b<span class="token punctuation">.</span>b<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token function">sort</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>a<span class="token operator">+</span>n<span class="token punctuation">,</span>cmp<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>重载小于号(不用定义比较函数)</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">struct</span> <span class="token class-name">node</span><span class="token punctuation">{</span>
	<span class="token keyword">int</span> key<span class="token punctuation">,</span>value<span class="token punctuation">;</span>
	<span class="token keyword">bool</span> <span class="token keyword">operator</span><span class="token operator">&lt;</span><span class="token punctuation">(</span><span class="token keyword">const</span> node<span class="token operator">&amp;</span>b<span class="token punctuation">)</span><span class="token keyword">const</span>
	<span class="token punctuation">{</span><span class="token keyword">return</span> key<span class="token operator">&lt;</span>b<span class="token punctuation">.</span>key<span class="token punctuation">;</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token function">sort</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>a<span class="token operator">+</span>n<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="全排列-algorithm"><a href="#全排列-algorithm" class="header-anchor">#</a> 全排列 (algorithm)</h3> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token function">next_permutation</span><span class="token punctuation">(</span>begin<span class="token punctuation">,</span>end<span class="token punctuation">,</span>cmp<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">prev_permutation</span><span class="token punctuation">(</span>begin<span class="token punctuation">,</span>end<span class="token punctuation">,</span>cmp<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>返回值为bool类型，失败为false</p> <h4 id="int"><a href="#int" class="header-anchor">#</a> int</h4> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token function">next_permutation</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>a<span class="token operator">+</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="string"><a href="#string" class="header-anchor">#</a> string</h4> <div class="language-cpp extra-class"><pre class="language-cpp"><code>string s<span class="token operator">=</span><span class="token string">&quot;abcde&quot;</span><span class="token punctuation">;</span>
<span class="token function">next_permutation</span><span class="token punctuation">(</span>s<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>s<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="二分查找-algorithm"><a href="#二分查找-algorithm" class="header-anchor">#</a> 二分查找 (algorithm)</h3> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token function">binary_search</span><span class="token punctuation">(</span>a<span class="token operator">+</span>n1<span class="token punctuation">,</span>a<span class="token operator">+</span>n2<span class="token punctuation">,</span>value<span class="token punctuation">,</span><span class="token function">cmp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//ture(找到)</span>
<span class="token comment">//&quot;找到&quot;是指a&lt;value||a&gt;value ==false</span>
</code></pre></div><div class="language-cpp extra-class"><pre class="language-cpp"><code>T<span class="token operator">*</span> <span class="token function">lower_bound</span><span class="token punctuation">(</span>a<span class="token operator">+</span>n1<span class="token punctuation">,</span>a<span class="token operator">+</span>n2<span class="token punctuation">,</span>value<span class="token punctuation">,</span><span class="token function">cmp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//返回值指向第一个&gt;=value的元素，找不到就指向a[n2]</span>
<span class="token comment">// 1    3    3    3    5</span>
<span class="token comment">//a[0] a[1] a[2] a[3] a[4]</span>
<span class="token comment">//假如搜索3,返回值指向a[1]</span>
<span class="token comment">//假如搜索4,返回值指向a[4]</span>
</code></pre></div><div class="language-cpp extra-class"><pre class="language-cpp"><code>T<span class="token operator">*</span> <span class="token function">upper_bound</span><span class="token punctuation">(</span>a<span class="token operator">+</span>n1<span class="token punctuation">,</span>a<span class="token operator">+</span>n2<span class="token punctuation">,</span>value<span class="token punctuation">,</span><span class="token function">cmp</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//返回值指向第一个&gt;value的元素，找不到就指向a[n2]</span>
<span class="token comment">//在上一个案例中，假如搜索3,返回值指向a[4]</span>
</code></pre></div><h3 id="pair模板"><a href="#pair模板" class="header-anchor">#</a> pair模板</h3> <div class="language-cpp extra-class"><pre class="language-cpp"><code>pair<span class="token operator">&lt;</span>T1<span class="token punctuation">,</span>T2<span class="token operator">&gt;</span><span class="token punctuation">;</span>
<span class="token comment">//same as</span>
<span class="token keyword">struct</span><span class="token punctuation">{</span>
    T1 first<span class="token punctuation">;</span>
    T2 second<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-cpp extra-class"><pre class="language-cpp"><code>p<span class="token operator">=</span><span class="token function">make_pair</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>b<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//same as</span>
<span class="token keyword">struct</span><span class="token punctuation">{</span>
    T1 first<span class="token punctuation">;</span>
    T2 second<span class="token punctuation">;</span>
<span class="token punctuation">}</span>p<span class="token punctuation">;</span>
p<span class="token punctuation">.</span>first<span class="token operator">=</span>a<span class="token punctuation">;</span>
p<span class="token punctuation">.</span>second<span class="token operator">=</span>b<span class="token punctuation">;</span>
</code></pre></div><h3 id="定长数组-array"><a href="#定长数组-array" class="header-anchor">#</a> 定长数组 (array)</h3> <p>类似C风格数组，长度为常量表达式</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code>array<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token operator">&gt;</span> a<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token comment">//初始化，不填的补0</span>
a<span class="token punctuation">.</span><span class="token function">fill</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//赋值给每个元素</span>
a<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//指向首元素的指针</span>
a<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> a<span class="token punctuation">.</span><span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//迭代器</span>
a<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> a<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>  <span class="token comment">//引用</span>
</code></pre></div><h3 id="变长数组-vector"><a href="#变长数组-vector" class="header-anchor">#</a> 变长数组 (vector)</h3> <p>作函数参数时，必须用引用</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> v<span class="token punctuation">;</span>
vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">vv</span><span class="token punctuation">(</span>maxSize<span class="token punctuation">,</span>defaultValue<span class="token punctuation">)</span><span class="token punctuation">;</span>
vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator it<span class="token punctuation">;</span>

<span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">va</span><span class="token punctuation">(</span>a<span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">,</span>a<span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>增</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code>v<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
v<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">,</span>a<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>删</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code>v<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
v<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">2</span><span class="token punctuation">,</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">+</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
v<span class="token punctuation">.</span><span class="token function">pop_back</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
v<span class="token punctuation">.</span><span class="token function">clear</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>查</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code>v<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//个数</span>
cout<span class="token operator">&lt;&lt;</span> v<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
<span class="token keyword">for</span><span class="token punctuation">(</span>it<span class="token operator">=</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>it<span class="token operator">!=</span>v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>it<span class="token operator">++</span><span class="token punctuation">)</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token operator">*</span>it<span class="token operator">&lt;&lt;</span>endl<span class="token punctuation">;</span>
</code></pre></div><p>改 (algorithm)</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token function">reverse</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token function">sort</span><span class="token punctuation">(</span>v<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>v<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="平衡二叉树-set"><a href="#平衡二叉树-set" class="header-anchor">#</a> 平衡二叉树 (set)</h3> <h4 id="multiset-可以重复"><a href="#multiset-可以重复" class="header-anchor">#</a> multiset (可以重复)</h4> <div class="language-cpp extra-class"><pre class="language-cpp"><code>multiset<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> a<span class="token punctuation">;</span>
multiset<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span>cmp<span class="token operator">&gt;</span> a<span class="token punctuation">;</span><span class="token comment">//自定义排序规则</span>
multiset<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator i<span class="token punctuation">;</span><span class="token comment">//迭代器</span>
</code></pre></div><p>增</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code>a<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>顺序读取</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code><span class="token keyword">for</span><span class="token punctuation">(</span>i<span class="token operator">=</span>a<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">!=</span>a<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>i<span class="token operator">++</span><span class="token punctuation">)</span>
<span class="token comment">//不可比较大小、加减(只可++/--).end()指向最后元素的后面</span>
    cout<span class="token operator">&lt;&lt;</span><span class="token operator">*</span>i<span class="token operator">&lt;&lt;</span><span class="token string">&quot;,&quot;</span><span class="token punctuation">;</span>	<span class="token comment">//类似指针</span>
</code></pre></div><p>查</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code>i<span class="token operator">=</span>a<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//返回迭代器，找不到就返回a.end()</span>
i<span class="token operator">=</span>a<span class="token punctuation">.</span><span class="token function">lower_bound</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//i前面的元素都在value前面</span>
i<span class="token operator">=</span>a<span class="token punctuation">.</span><span class="token function">upper_bound</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//i及其后面的元素都在value后面</span>
</code></pre></div><p>删</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code>a<span class="token punctuation">.</span><span class="token function">erase</span><span class="token punctuation">(</span>i<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="set-集合-不重复"><a href="#set-集合-不重复" class="header-anchor">#</a> set (集合,不重复)</h4> <div class="language-cpp extra-class"><pre class="language-cpp"><code>set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> a<span class="token punctuation">;</span>
pair<span class="token operator">&lt;</span>set<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator<span class="token punctuation">,</span> <span class="token keyword">bool</span><span class="token operator">&gt;</span> result<span class="token operator">=</span>a<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>in<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//result.second表示插入是否成功</span>
a<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//个数</span>
</code></pre></div><h3 id="映射-map"><a href="#映射-map" class="header-anchor">#</a> 映射 (map)</h3> <h4 id="multimap"><a href="#multimap" class="header-anchor">#</a> multimap</h4> <p>元素类型为pair&lt;T1,T2&gt;,T1 first为键,T2 second为值.按first排序</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code>multimap<span class="token operator">&lt;</span>T1<span class="token punctuation">,</span>T2<span class="token operator">&gt;</span> a<span class="token punctuation">;</span>
</code></pre></div><p>与multiset一样,有begin、end、insert、find、lower_bound、upper_bound函数，有迭代器</p> <h4 id="map-不能重复"><a href="#map-不能重复" class="header-anchor">#</a> map (不能重复)</h4> <div class="language-cpp extra-class"><pre class="language-cpp"><code>map<span class="token operator">&lt;</span>string<span class="token punctuation">,</span><span class="token keyword">int</span><span class="token operator">&gt;</span> m<span class="token punctuation">;</span>
m<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span><span class="token function">make_pair</span><span class="token punctuation">(</span><span class="token string">&quot;alice&quot;</span><span class="token punctuation">,</span><span class="token number">89</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
cout<span class="token operator">&lt;&lt;</span>m<span class="token punctuation">[</span><span class="token string">&quot;Alice&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span><span class="token comment">//可以直接把first当下标,结果是second</span>
m<span class="token punctuation">[</span><span class="token string">&quot;Bob&quot;</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token number">98</span><span class="token punctuation">;</span><span class="token comment">//可以读也可以写</span>
</code></pre></div><p>类似set,insert()有返回值,其.second表明是否成功</p> <h3 id="优先队列-queue"><a href="#优先队列-queue" class="header-anchor">#</a> 优先队列 (queue)</h3> <div class="language-cpp extra-class"><pre class="language-cpp"><code>priority_queue <span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token punctuation">,</span>vector<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token punctuation">,</span>greater<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token operator">&gt;</span> q<span class="token punctuation">;</span><span class="token comment">//无需#include&lt;vector&gt;</span>
q<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//元素个数</span>
q<span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//是否为空，空则返回1，否则返回0</span>
q<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>k<span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//插入k</span>
q<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//删掉第一个元素</span>
q<span class="token punctuation">.</span><span class="token function">top</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//返回第一个元素</span>
</code></pre></div><h3 id="双端队列-deque"><a href="#双端队列-deque" class="header-anchor">#</a> 双端队列 (deque)</h3> <div class="language-cpp extra-class"><pre class="language-cpp"><code>deque<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> d<span class="token punctuation">;</span>
deque<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">d</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">5</span><span class="token punctuation">)</span><span class="token punctuation">;</span><span class="token comment">//初始10个5</span>
<span class="token keyword">int</span> a<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">=</span><span class="token punctuation">{</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
deque<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">d</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span>a<span class="token operator">+</span><span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
d<span class="token punctuation">.</span><span class="token function">size</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
d<span class="token punctuation">.</span><span class="token function">front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//第一个元素的引用</span>
d<span class="token punctuation">.</span><span class="token function">back</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>		<span class="token comment">//最后一个元素的引用</span>
d<span class="token punctuation">.</span><span class="token function">push_front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//头部添加元素</span>
d<span class="token punctuation">.</span><span class="token function">pop_front</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//移除头部元素</span>
</code></pre></div><h3 id="双向链表-list"><a href="#双向链表-list" class="header-anchor">#</a> 双向链表(list)</h3> <p>初始化</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code> list<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> l<span class="token punctuation">;</span>
 list<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">l</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//十个元素,默认为0</span>
 list<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span> <span class="token function">l</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">,</span><span class="token number">4</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//十个元素,默认为4</span>
</code></pre></div><p>插入</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code>  l<span class="token punctuation">.</span><span class="token function">push_back</span><span class="token punctuation">(</span><span class="token number">10</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//尾部插入</span>
  l<span class="token punctuation">.</span><span class="token function">push_front</span><span class="token punctuation">(</span><span class="token number">11</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//首部插入</span>
  l<span class="token punctuation">.</span><span class="token function">insert</span><span class="token punctuation">(</span>it<span class="token punctuation">,</span><span class="token number">8</span><span class="token punctuation">)</span><span class="token punctuation">;</span>	<span class="token comment">//在迭代器的位置插入新元素(不会覆盖)</span>
</code></pre></div><p>遍历</p> <div class="language-cpp extra-class"><pre class="language-cpp"><code> list<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>iterator it<span class="token punctuation">;</span>
 <span class="token keyword">for</span><span class="token punctuation">(</span>it<span class="token operator">=</span>l<span class="token punctuation">.</span><span class="token function">begin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>it<span class="token operator">!=</span>l<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>it<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token comment">//反向遍历</span>
 list<span class="token operator">&lt;</span><span class="token keyword">int</span><span class="token operator">&gt;</span><span class="token double-colon punctuation">::</span>reverse_iterator rit<span class="token punctuation">;</span>
 <span class="token keyword">for</span><span class="token punctuation">(</span>rit<span class="token operator">=</span>l<span class="token punctuation">.</span><span class="token function">rbegin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>rit<span class="token operator">!=</span>l<span class="token punctuation">.</span><span class="token function">rend</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>rit<span class="token operator">++</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/LanguageGuide/快捷键.html" class="prev">
        快捷键
      </a></span> <span class="next"><a href="/LanguageGuide/CSharp.html">
        C#
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.6718a89a.js" defer></script><script src="/assets/js/2.b450a5ed.js" defer></script><script src="/assets/js/6.b59f3428.js" defer></script>
  </body>
</html>
